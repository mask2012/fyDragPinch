var eventjs;"undefined"==typeof eventjs&&(eventjs={}),function(a){"use strict";var b,c,d,e,f,g,i,j,k,l,m,n,o,p,q,r;return a.modifyEventListener=!1,a.modifySelectors=!1,a.configure=function(b){isFinite(b.modifyEventListener)&&(a.modifyEventListener=b.modifyEventListener),isFinite(b.modifySelectors)&&(a.modifySelectors=b.modifySelectors),o===!1&&a.modifyEventListener&&p(),q===!1&&a.modifySelectors&&r()},a.add=function(a,b,d,e){return c(a,b,d,e,"add")},a.remove=function(a,b,d,e){return c(a,b,d,e,"remove")},a.returnFalse=function(){return!1},a.stop=function(a){a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.cancelBubbleCount=0)},a.prevent=function(a){a&&(a.preventDefault?a.preventDefault():a.preventManipulation?a.preventManipulation():a.returnValue=!1)},a.cancel=function(b){a.stop(b),a.prevent(b)},a.blur=function(){var b,a=document.activeElement;a&&(b=document.activeElement.nodeName,("INPUT"===b||"TEXTAREA"===b||"true"===a.contentEditable)&&a.blur&&a.blur())},a.getEventSupport=function(a,b){if("string"==typeof a&&(b=a,a=window),b="on"+b,b in a)return!0;if(a.setAttribute||(a=document.createElement("div")),a.setAttribute&&a.removeAttribute){a.setAttribute(b,"");var c="function"==typeof a[b];return"undefined"!=typeof a[b]&&(a[b]=null),a.removeAttribute(b),c}},b=function(a){var c,d;if(!a||"object"!=typeof a)return a;c=new a.constructor;for(d in a)c[d]=a[d]&&"object"==typeof a[d]?b(a[d]):a[d];return c},c=function(f,g,h,k,o,p){var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;if(k=k||{},"[object Object]"===String(f)){if(q=f,f=q.target,delete q.target,!q.type||!q.listener){for(s in q)t=q[s],"function"!=typeof t&&(k[s]=t);u={};for(r in q){s=r.split(","),v=q[r],w={};for(x in k)w[x]=k[x];if("function"==typeof v)h=v;else{if("function"!=typeof v.listener)continue;h=v.listener;for(x in v)"function"!=typeof v[x]&&(w[x]=v[x])}for(y=0;y<s.length;y++)u[r]=eventjs.add(f,s[y],h,w,o)}return u}g=q.type,delete q.type,h=q.listener,delete q.listener;for(r in q)k[r]=q[r]}if(f&&g&&h){if("string"==typeof f&&"ready"===g){if(!window.eventjs_stallOnReady)return z=(new Date).getTime(),A=k.timeout,B=k.interval||1e3/60,C=window.setInterval(function(){(new Date).getTime()-z>A&&window.clearInterval(C),document.querySelector(f)&&(window.clearInterval(C),setTimeout(h,1))},B),void 0;g="load",f=window}if("string"==typeof f){if(f=document.querySelectorAll(f),0===f.length)return e("Missing target on listener!",arguments);1===f.length&&(f=f[0])}if(E={},f.length>0&&f!==window){for(F=0,G=f.length;G>F;F++)D=c(f[F],g,h,b(k),o),D&&(E[F]=D);return d(E)}if("string"==typeof g&&(g=g.toLowerCase(),-1!==g.indexOf(" ")?g=g.split(" "):-1!==g.indexOf(",")&&(g=g.split(","))),"string"!=typeof g){if("number"==typeof g.length)for(H=0,I=g.length;I>H;H++)D=c(f,g[H],h,b(k),o),D&&(E[g[H]]=D);else for(r in g)D="function"==typeof g[r]?c(f,r,g[r],b(k),o):c(f,r,g[r].listener,b(g[r]),o),D&&(E[r]=D);return d(E)}if(0===g.indexOf("on")&&(g=g.substr(2)),"object"!=typeof f)return e("Target is not defined!",arguments);if("function"!=typeof h)return e("Listener is not a function!",arguments);if(J=k.useCapture||!1,K=l(f)+"."+l(h)+"."+(J?1:0),a.Gesture&&a.Gesture._gestureHandlers[g]){if(K=g+K,"remove"===o){if(!j[K])return;j[K].remove(),delete j[K]}else if("add"===o){if(j[K])return j[K].add(),j[K];k.useCall&&!a.modifyEventListener&&(L=h,h=function(a,b){for(var c in b)a[c]=b[c];return L.call(f,a)}),k.gesture=g,k.target=f,k.listener=h,k.fromOverwrite=p,j[K]=a.proxy[g](k)}return j[K]}for(M=i(g),y=0;y<M.length;y++)if(g=M[y],N=g+"."+K,"remove"===o){if(!j[N])continue;f[n](g,h,J),delete j[N]}else if("add"===o){if(j[N])return j[N];f[m](g,h,J),j[N]={id:N,type:g,target:f,listener:h,remove:function(){for(var b=0;b<M.length;b++)a.remove(f,M[b],h,k)}}}return j[N]}},d=function(a){return{remove:function(){for(var b in a)a[b].remove()},add:function(){for(var b in a)a[b].add()}}},e=function(a,b){"undefined"!=typeof console&&"undefined"!=typeof console.error&&console.error(a,b)},f={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],touch:["touchstart","touchmove","touchend"],mouse:["mousedown","mousemove","mouseup"]},g={MSPointerDown:0,MSPointerMove:1,MSPointerUp:2,touchstart:0,touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2},function(){a.supports={},window.navigator.msPointerEnabled&&(a.supports.msPointer=!0),a.getEventSupport("touchstart")&&(a.supports.touch=!0),a.getEventSupport("mousedown")&&(a.supports.mouse=!0)}(),i=function(){return function(b){var e,h,c=document.addEventListener?"":"on",d=g[b];if(isFinite(d)){e=[];for(h in a.supports)e.push(c+f[h][d]);return e}return[c+b]}}(),j={},k=0,l=function(a){return a===window?"#window":a===document?"#document":(a.uniqueID||(a.uniqueID="e"+k++),a.uniqueID)},m=document.addEventListener?"addEventListener":"attachEvent",n=document.removeEventListener?"removeEventListener":"detachEvent",a.createPointerEvent=function(b,c,d){var h,i,j,k,e=c.gesture,f=c.target,g=b.changedTouches||a.proxy.getCoords(b);g.length&&(h=g[0],c.pointers=d?[]:g,c.pageX=h.pageX,c.pageY=h.pageY,c.x=c.pageX,c.y=c.pageY),i=document.createEvent("Event"),i.initEvent(e,!0,!0),i.originalEvent=b;for(j in c)"target"!==j&&(i[j]=c[j]);k=i.type,a.Gesture&&a.Gesture._gestureHandlers[k]&&c.oldListener.call(f,i,c,!1)},o=!1,p=function(){if(window.HTMLElement){var b=function(b){var d=function(d){var e=d+"EventListener",f=b[e];b[e]=function(b,e,g){var h,j,k;if(a.Gesture&&a.Gesture._gestureHandlers[b])h=g,"object"==typeof g?h.useCall=!0:h={useCall:!0,useCapture:g},c(this,b,e,h,d,!0);else for(j=i(b),k=0;k<j.length;k++)f.call(this,j[k],e,g)}};d("add"),d("remove")};navigator.userAgent.match(/Firefox/)?(b(HTMLDivElement.prototype),b(HTMLCanvasElement.prototype)):b(HTMLElement.prototype),b(document),b(window)}},q=!1,r=function(){var a=NodeList.prototype;a.removeEventListener=function(a,b,c){for(var d=0,e=this.length;e>d;d++)this[d].removeEventListener(a,b,c)},a.addEventListener=function(a,b,c){for(var d=0,e=this.length;e>d;d++)this[d].addEventListener(a,b,c)}},a}(eventjs),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";var b,c;return a.pointerSetup=function(a,b){var c,d;return a.target=a.target||window,a.doc=a.target.ownerDocument||a.target,a.minFingers=a.minFingers||a.fingers||1,a.maxFingers=a.maxFingers||a.fingers||1/0,a.position=a.position||"relative",delete a.fingers,b=b||{},b.enabled=!0,b.gesture=a.gesture,b.target=a.target,b.env=a.env,eventjs.modifyEventListener&&a.fromOverwrite&&(a.oldListener=a.listener,a.listener=eventjs.createPointerEvent),c=0,d=0===b.gesture.indexOf("pointer")&&eventjs.modifyEventListener?"pointer":"mouse",a.oldListener&&(b.oldListener=a.oldListener),b.listener=a.listener,b.proxy=function(c){b.defaultListener=a.listener,a.listener=c,c(a.event,b)},b.add=function(){b.enabled!==!0&&(a.onPointerDown&&eventjs.add(a.target,d+"down",a.onPointerDown),a.onPointerMove&&eventjs.add(a.doc,d+"move",a.onPointerMove),a.onPointerUp&&eventjs.add(a.doc,d+"up",a.onPointerUp),b.enabled=!0)},b.remove=function(){b.enabled!==!1&&(a.onPointerDown&&eventjs.remove(a.target,d+"down",a.onPointerDown),a.onPointerMove&&eventjs.remove(a.doc,d+"move",a.onPointerMove),a.onPointerUp&&eventjs.remove(a.doc,d+"up",a.onPointerUp),b.reset(),b.enabled=!1)},b.pause=function(b){!a.onPointerMove||b&&!b.move||eventjs.remove(a.doc,d+"move",a.onPointerMove),!a.onPointerUp||b&&!b.up||eventjs.remove(a.doc,d+"up",a.onPointerUp),c=a.fingers,a.fingers=0},b.resume=function(b){!a.onPointerMove||b&&!b.move||eventjs.add(a.doc,d+"move",a.onPointerMove),!a.onPointerUp||b&&!b.up||eventjs.add(a.doc,d+"up",a.onPointerUp),a.fingers=c},b.reset=function(){a.tracker={},a.fingers=0},b},b=eventjs.supports,eventjs.isMouse=!!b.mouse,eventjs.isMSPointer=!!b.touch,eventjs.isTouch=!!b.msPointer,a.pointerStart=function(b,c,d){var f,g,h,i,j,k,l,m,n,o,p,e=(b.type||"mousedown").toUpperCase();for(0===e.indexOf("MOUSE")?(eventjs.isMouse=!0,eventjs.isTouch=!1,eventjs.isMSPointer=!1):0===e.indexOf("TOUCH")?(eventjs.isMouse=!1,eventjs.isTouch=!0,eventjs.isMSPointer=!1):0===e.indexOf("MSPOINTER")&&(eventjs.isMouse=!1,eventjs.isTouch=!1,eventjs.isMSPointer=!0),f=function(a,b){var f,g,c=d.bbox,e=h[b]={};switch(d.position){case"absolute":e.offsetX=0,e.offsetY=0;break;case"differenceFromLast":e.offsetX=a.pageX,e.offsetY=a.pageY;break;case"difference":e.offsetX=a.pageX,e.offsetY=a.pageY;break;case"move":e.offsetX=a.pageX-c.x1,e.offsetY=a.pageY-c.y1;break;default:e.offsetX=c.x1-c.scrollLeft,e.offsetY=c.y1-c.scrollTop}f=a.pageX-e.offsetX,g=a.pageY-e.offsetY,e.rotation=0,e.scale=1,e.startTime=e.moveTime=(new Date).getTime(),e.move={x:f,y:g},e.start={x:f,y:g},d.fingers++},d.event=b,c.defaultListener&&(d.listener=c.defaultListener,delete c.defaultListener),g=!d.fingers,h=d.tracker,i=b.changedTouches||a.getCoords(b),j=i.length,k=0;j>k;k++)if(l=i[k],m=l.identifier||1/0,d.fingers){if(d.fingers>=d.maxFingers){n=[];for(m in d.tracker)n.push(m);return c.identifier=n.join(","),g}o=0;for(p in h){if(h[p].up){delete h[p],f(l,m),d.cancel=!0;break}o++}if(h[m])continue;f(l,m)}else h=d.tracker={},c.bbox=d.bbox=a.getBoundingBox(d.target),d.fingers=0,d.cancel=!1,f(l,m);n=[];for(m in d.tracker)n.push(m);return c.identifier=n.join(","),g},a.pointerEnd=function(a,b,c,d){var h,i,j,k,l,e=a.touches||[],f=e.length,g={};for(h=0;f>h;h++)i=e[h],j=i.identifier,g[j||1/0]=!0;for(j in c.tracker)k=c.tracker[j],g[j]||k.up||(d&&d({pageX:k.pageX,pageY:k.pageY,changedTouches:[{pageX:k.pageX,pageY:k.pageY,identifier:"Infinity"===j?1/0:j}]},"up"),k.up=!0,c.fingers--);if(0!==c.fingers)return!1;l=[],c.gestureFingers=0;for(j in c.tracker)c.gestureFingers++,l.push(j);return b.identifier=l.join(","),!0},a.getCoords=function(b){return a.getCoords="undefined"!=typeof b.pageX?function(a){return Array({type:"mouse",x:a.pageX,y:a.pageY,pageX:a.pageX,pageY:a.pageY,identifier:a.pointerId||1/0})}:function(a){var b=document.documentElement;return a=a||window.event,Array({type:"mouse",x:a.clientX+b.scrollLeft,y:a.clientY+b.scrollTop,pageX:a.clientX+b.scrollLeft,pageY:a.clientY+b.scrollTop,identifier:1/0})},a.getCoords(b)},a.getCoord=function(b){var c,d;return"ontouchstart"in window?(c=0,d=0,a.getCoord=function(a){var b=a.changedTouches;return b&&b.length?{x:c=b[0].pageX,y:d=b[0].pageY}:{x:c,y:d}}):a.getCoord="undefined"!=typeof b.pageX&&"undefined"!=typeof b.pageY?function(a){return{x:a.pageX,y:a.pageY}}:function(a){var b=document.documentElement;return a=a||window.event,{x:a.clientX+b.scrollLeft,y:a.clientY+b.scrollTop}},a.getCoord(b)},c=function(a,b){var c=parseFloat(a.getPropertyValue(b),10);return isFinite(c)?c:0},a.getBoundingBox=function(a){var b,d,e,f,g,h,i,j,k,l;for((a===window||a===document)&&(a=document.body),b={},d=a.getBoundingClientRect(),b.width=d.width,b.height=d.height,b.x1=d.left,b.y1=d.top,b.scaleX=d.width/a.offsetWidth||1,b.scaleY=d.height/a.offsetHeight||1,b.scrollLeft=0,b.scrollTop=0,e=window.getComputedStyle(a),f="border-box"===e.getPropertyValue("box-sizing"),f===!1&&(g=c(e,"border-left-width"),h=c(e,"border-right-width"),i=c(e,"border-bottom-width"),j=c(e,"border-top-width"),b.border=[g,h,j,i],b.x1+=g,b.y1+=j,b.width-=h+g,b.height-=i+j),b.x2=b.x1+b.width,b.y2=b.y1+b.height,k=e.getPropertyValue("position"),l="fixed"===k?a:a.parentNode;null!==l&&l!==document.body&&void 0!==l.scrollTop;){if(e=window.getComputedStyle(l),k=e.getPropertyValue("position"),"absolute"===k);else{if("fixed"===k){b.scrollTop-=l.parentNode.scrollTop,b.scrollLeft-=l.parentNode.scrollLeft;break}b.scrollLeft+=l.scrollLeft,b.scrollTop+=l.scrollTop}l=l.parentNode}return b.scrollBodyLeft=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,b.scrollBodyTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,b.scrollLeft-=b.scrollBodyLeft,b.scrollTop-=b.scrollBodyTop,b},function(){var d,b=navigator.userAgent.toLowerCase(),c=-1!==b.indexOf("macintosh");d=c&&-1!==b.indexOf("khtml")?{91:!0,93:!0}:c&&-1!==b.indexOf("firefox")?{224:!0}:{17:!0},(a.metaTrackerReset=function(){eventjs.fnKey=a.fnKey=!1,eventjs.metaKey=a.metaKey=!1,eventjs.escKey=a.escKey=!1,eventjs.ctrlKey=a.ctrlKey=!1,eventjs.shiftKey=a.shiftKey=!1,eventjs.altKey=a.altKey=!1})(),a.metaTracker=function(b){var c="keydown"===b.type;27===b.keyCode&&(eventjs.escKey=a.escKey=c),d[b.keyCode]&&(eventjs.metaKey=a.metaKey=c),eventjs.ctrlKey=a.ctrlKey=b.ctrlKey,eventjs.shiftKey=a.shiftKey=b.shiftKey,eventjs.altKey=a.altKey=b.altKey}}(),a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),eventjs.MutationObserver=function(){var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,b=!a&&function(){var a=document.createElement("p"),b=!1,c=function(){b=!0};if(a.addEventListener)a.addEventListener("DOMAttrModified",c,!1);else{if(!a.attachEvent)return!1;a.attachEvent("onDOMAttrModified",c)}return a.setAttribute("id","target"),b}();return function(c,d){var e,f;a?(e={subtree:!1,attributes:!0},f=new a(function(a){a.forEach(function(a){d.call(a.target,a.attributeName)})}),f.observe(c,e)):b?eventjs.add(c,"DOMAttrModified",function(a){d.call(c,a.attrName)}):"onpropertychange"in document.body&&eventjs.add(c,"propertychange",function(){d.call(c,window.event.propertyName)})}}(),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.click=function(b){b.gesture=b.gesture||"click",b.maxFingers=b.maxFingers||b.fingers||1,b.onPointerDown=function(d){a.pointerStart(d,c,b)&&eventjs.add(b.target,"mouseup",b.onPointerUp)},b.onPointerUp=function(d){var e,f,g,h,i,j,k,l;if(a.pointerEnd(d,c,b)&&(eventjs.remove(b.target,"mouseup",b.onPointerUp),e=d.changedTouches||a.getCoords(d),f=e[0],g=b.bbox,h=a.getBoundingBox(b.target),i=f.pageY-h.scrollBodyTop,j=f.pageX-h.scrollBodyLeft,j>g.x1&&i>g.y1&&j<g.x2&&i<g.y2&&g.scrollTop===h.scrollTop)){for(k in b.tracker)break;l=b.tracker[k],c.x=l.start.x,c.y=l.start.y,b.listener(d,c)}};var c=a.pointerSetup(b);return c.state="click",eventjs.add(b.target,"mousedown",b.onPointerDown),c},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.click=a.click,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.dbltap=a.dblclick=function(b){var c,d,e,f,g,h,i;return b.gesture=b.gesture||"dbltap",b.maxFingers=b.maxFingers||b.fingers||1,c=700,b.onPointerDown=function(j){var k=j.changedTouches||a.getCoords(j);d&&!e?(h=k[0],e=(new Date).getTime()-d):(g=k[0],d=(new Date).getTime(),e=0,clearTimeout(f),f=setTimeout(function(){d=0},c)),a.pointerStart(j,i,b)&&(eventjs.add(b.target,"mousemove",b.onPointerMove).listener(j),eventjs.add(b.target,"mouseup",b.onPointerUp))},b.onPointerMove=function(c){var i,j,k,l;d&&!e&&(i=c.changedTouches||a.getCoords(c),h=i[0]),j=b.bbox,k=h.pageX-j.x1,l=h.pageY-j.y1,k>0&&k<j.width&&l>0&&l<j.height&&Math.abs(h.pageX-g.pageX)<=25&&Math.abs(h.pageY-g.pageY)<=25||(eventjs.remove(b.target,"mousemove",b.onPointerMove),clearTimeout(f),d=e=0)},b.onPointerUp=function(g){var h,j;if(a.pointerEnd(g,i,b)&&(eventjs.remove(b.target,"mousemove",b.onPointerMove),eventjs.remove(b.target,"mouseup",b.onPointerUp)),d&&e){if(c>=e){i.state=b.gesture;for(h in b.tracker)break;j=b.tracker[h],i.x=j.start.x,i.y=j.start.y,b.listener(g,i)}clearTimeout(f),d=e=0}},i=a.pointerSetup(b),i.state="dblclick",eventjs.add(b.target,"mousedown",b.onPointerDown),i},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.dbltap=a.dbltap,eventjs.Gesture._gestureHandlers.dblclick=a.dblclick,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.dragElement=function(b,c){a.drag({event:c,target:b,position:"move",listener:function(a,c){b.style.left=c.x+"px",b.style.top=c.y+"px",eventjs.prevent(a)}})},a.drag=function(b){b.gesture="drag",b.onPointerDown=function(d){a.pointerStart(d,c,b)&&(b.monitor||(eventjs.add(b.doc,"mousemove",b.onPointerMove),eventjs.add(b.doc,"mouseup",b.onPointerUp))),b.onPointerMove(d,"down")},b.onPointerMove=function(d,e){var g,h,i,j,k,l;if(!b.tracker)return b.onPointerDown(d);for(b.bbox,g=d.changedTouches||a.getCoords(d),h=g.length,i=0;h>i;i++)j=g[i],k=j.identifier||1/0,l=b.tracker[k],l&&(l.pageX=j.pageX,l.pageY=j.pageY,c.state=e||"move",c.identifier=k,c.start=l.start,c.fingers=b.fingers,"differenceFromLast"===b.position?(c.x=l.pageX-l.offsetX,c.y=l.pageY-l.offsetY,l.offsetX=l.pageX,l.offsetY=l.pageY):(c.x=l.pageX-l.offsetX,c.y=l.pageY-l.offsetY),b.listener(d,c))},b.onPointerUp=function(d){a.pointerEnd(d,c,b,b.onPointerMove)&&(b.monitor||(eventjs.remove(b.doc,"mousemove",b.onPointerMove),eventjs.remove(b.doc,"mouseup",b.onPointerUp)))};var c=a.pointerSetup(b);return b.event?b.onPointerDown(b.event):(eventjs.add(b.target,"mousedown",b.onPointerDown),b.monitor&&(eventjs.add(b.doc,"mousemove",b.onPointerMove),eventjs.add(b.doc,"mouseup",b.onPointerUp))),c},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.drag=a.drag,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";var b=Math.PI/180,c=function(a,b){var f,g,c=0,d=0,e=0;for(f in b)g=b[f],g.up||(c+=g.move.x,d+=g.move.y,e++);return a.x=c/=e,a.y=d/=e,a};return a.gesture=function(d){d.gesture=d.gesture||"gesture",d.minFingers=d.minFingers||d.fingers||2,d.onPointerDown=function(b){var g,h,f=d.fingers;if(a.pointerStart(b,e,d)&&(eventjs.add(d.doc,"mousemove",d.onPointerMove),eventjs.add(d.doc,"mouseup",d.onPointerUp)),d.fingers===d.minFingers&&f!==d.fingers){e.fingers=d.minFingers,e.scale=1,e.rotation=0,e.state="start",g="";for(h in d.tracker)g+=h;e.identifier=parseInt(g),c(e,d.tracker),d.listener(b,e)}},d.onPointerMove=function(f){var l,m,n,o,p,q,r,s,t,u,v,w,h=d.bbox,i=d.tracker,j=f.changedTouches||a.getCoords(f),k=j.length;for(l=0;k>l;l++)m=j[l],n=m.identifier||1/0,o=i[n],o&&(o.move.x=m.pageX-h.x1,o.move.y=m.pageY-h.y1);if(!(d.fingers<d.minFingers)){j=[],p=0,q=0,c(e,i);for(n in i)m=i[n],m.up||(r=m.start,r.distance||(s=r.x-e.x,t=r.y-e.y,r.distance=Math.sqrt(s*s+t*t),r.angle=Math.atan2(s,t)/b),s=m.move.x-e.x,t=m.move.y-e.y,u=Math.sqrt(s*s+t*t),p+=u/r.distance,v=Math.atan2(s,t)/b,w=(r.angle-v+360)%360-180,m.DEG2=m.DEG1,m.DEG1=w>0?w:-w,"undefined"!=typeof m.DEG2&&(w>0?m.rotation+=m.DEG1-m.DEG2:m.rotation-=m.DEG1-m.DEG2,q+=m.rotation),j.push(m.move));e.touches=j,e.fingers=d.fingers,e.scale=p/d.fingers,e.rotation=q/d.fingers,e.state="change",d.listener(f,e)}},d.onPointerUp=function(b){var c=d.fingers;a.pointerEnd(b,e,d)&&(eventjs.remove(d.doc,"mousemove",d.onPointerMove),eventjs.remove(d.doc,"mouseup",d.onPointerUp)),c===d.minFingers&&d.fingers<d.minFingers&&(e.fingers=d.fingers,e.state="end",d.listener(b,e))};var e=a.pointerSetup(d);return eventjs.add(d.target,"mousedown",d.onPointerDown),e},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.gesture=a.gesture,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.pointerdown=a.pointermove=a.pointerup=function(b){var c,d;return b.gesture=b.gesture||"pointer",b.target.isPointerEmitter?void 0:(c=!0,b.onPointerDown=function(a){c=!1,d.gesture="pointerdown",b.listener(a,d)},b.onPointerMove=function(a){d.gesture="pointermove",b.listener(a,d,c)},b.onPointerUp=function(a){c=!0,d.gesture="pointerup",b.listener(a,d,!0)},d=a.pointerSetup(b),eventjs.add(b.target,"mousedown",b.onPointerDown),eventjs.add(b.target,"mousemove",b.onPointerMove),eventjs.add(b.doc,"mouseup",b.onPointerUp),b.target.isPointerEmitter=!0,d)},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.pointerdown=a.pointerdown,eventjs.Gesture._gestureHandlers.pointermove=a.pointermove,eventjs.Gesture._gestureHandlers.pointerup=a.pointerup,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.shake=function(a){var b={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:a.target,listener:a.listener,remove:function(){window.removeEventListener("devicemotion",j,!1)}},c=4,d=1e3,e=200,f=3,g=(new Date).getTime(),h={x:0,y:0,z:0},i={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},j=function(j){var m,n,o,p,q,r,s,t,u,v,k=.8,l=j.accelerationIncludingGravity;if(h.x=k*h.x+(1-k)*l.x,h.y=k*h.y+(1-k)*l.y,h.z=k*h.z+(1-k)*l.z,b.accelerationIncludingGravity=h,b.acceleration.x=l.x-h.x,b.acceleration.y=l.y-h.y,b.acceleration.z=l.z-h.z,"devicemotion"===a.gesture)return a.listener(j,b),void 0;for(m="xyz",n=(new Date).getTime(),o=0,p=m.length;p>o;o++)q=m[o],r=b.acceleration[q],s=i[q],t=Math.abs(r),d>n-g||t>c&&(u=n*r/t,v=Math.abs(u+s.value),s.value&&e>v?(s.value=u,s.count++,s.count===f&&(a.listener(j,b),g=n,s.value=0,s.count=0)):(s.value=u,s.count=1))};if(window.addEventListener)return window.addEventListener("devicemotion",j,!1),b},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.shake=a.shake,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";var b=Math.PI/180;return a.swipe=function(c){c.snap=c.snap||90,c.threshold=c.threshold||1,c.gesture=c.gesture||"swipe",c.onPointerDown=function(b){a.pointerStart(b,d,c)&&(eventjs.add(c.doc,"mousemove",c.onPointerMove).listener(b),eventjs.add(c.doc,"mouseup",c.onPointerUp))},c.onPointerMove=function(b){var f,g,h,i,d=b.changedTouches||a.getCoords(b),e=d.length;for(f=0;e>f;f++)g=d[f],h=g.identifier||1/0,i=c.tracker[h],i&&(i.move.x=g.pageX,i.move.y=g.pageY,i.moveTime=(new Date).getTime())},c.onPointerUp=function(e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(a.pointerEnd(e,d,c)){eventjs.remove(c.doc,"mousemove",c.onPointerMove),eventjs.remove(c.doc,"mouseup",c.onPointerUp),j={x:0,y:0},k=0,l=0,m=0;for(n in c.tracker)if(o=c.tracker[n],p=o.move.x-o.start.x,q=o.move.y-o.start.y,k+=o.move.x,l+=o.move.y,j.x+=o.start.x,j.y+=o.start.y,m++,r=Math.sqrt(p*p+q*q),s=o.moveTime-o.startTime,i=Math.atan2(p,q)/b+180,g=s?r/s:0,"undefined"==typeof h)h=i,f=g;else{if(!(Math.abs(i-h)<=20))return;h=(h+i)/2,f=(f+g)/2}t=c.gestureFingers,c.minFingers<=t&&c.maxFingers>=t&&f>c.threshold&&(j.x/=m,j.y/=m,d.start=j,d.x=k/m,d.y=l/m,d.angle=-(((h/c.snap+.5>>0)*c.snap||360)-360),d.velocity=f,d.fingers=t,d.state="swipe",c.listener(e,d))}};var d=a.pointerSetup(c);return eventjs.add(c.target,"mousedown",c.onPointerDown),d},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.swipe=a.swipe,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.longpress=function(b){return b.gesture="longpress",a.tap(b)},a.tap=function(b){var c,d,e;return b.delay=b.delay||500,b.timeout=b.timeout||250,b.driftDeviance=b.driftDeviance||10,b.gesture=b.gesture||"tap",b.onPointerDown=function(f){if(a.pointerStart(f,e,b)){if(c=(new Date).getTime(),eventjs.add(b.doc,"mousemove",b.onPointerMove).listener(f),eventjs.add(b.doc,"mouseup",b.onPointerUp),"longpress"!==b.gesture)return;d=setTimeout(function(){var a,c,d;if(!(f.cancelBubble&&++f.cancelBubbleCount>1)){a=0;for(c in b.tracker){if(d=b.tracker[c],d.end===!0)return;if(b.cancel)return;a++}b.minFingers<=a&&b.maxFingers>=a&&(e.state="start",e.fingers=a,e.x=d.start.x,e.y=d.start.y,b.listener(f,e))}},b.delay)}},b.onPointerMove=function(c){var g,h,i,j,k,l,m,n,o,d=b.bbox,e=c.changedTouches||a.getCoords(c),f=e.length;for(g=0;f>g;g++)if(h=e[g],i=h.identifier||1/0,j=b.tracker[i],j&&(k=h.pageX-d.x1,l=h.pageY-d.y1,m=k-j.start.x,n=l-j.start.y,o=Math.sqrt(m*m+n*n),!(k>0&&k<d.width&&l>0&&l<d.height&&o<=b.driftDeviance)))return eventjs.remove(b.doc,"mousemove",b.onPointerMove),b.cancel=!0,void 0},b.onPointerUp=function(f){if(a.pointerEnd(f,e,b)){if(clearTimeout(d),eventjs.remove(b.doc,"mousemove",b.onPointerMove),eventjs.remove(b.doc,"mouseup",b.onPointerUp),f.cancelBubble&&++f.cancelBubbleCount>1)return;if("longpress"===b.gesture)return"start"===e.state&&(e.state="end",b.listener(f,e)),void 0;if(b.cancel)return;if((new Date).getTime()-c>b.timeout)return;var g=b.gestureFingers;b.minFingers<=g&&b.maxFingers>=g&&(e.state="tap",e.fingers=b.gestureFingers,b.listener(f,e))}},e=a.pointerSetup(b),eventjs.add(b.target,"mousedown",b.onPointerDown),e},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.tap=a.tap,eventjs.Gesture._gestureHandlers.longpress=a.longpress,a}(eventjs.proxy),"undefined"==typeof eventjs&&(eventjs={}),"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(a){"use strict";return a.wheelPreventElasticBounce=function(a){a&&("string"==typeof a&&(a=document.querySelector(a)),eventjs.add(a,"wheel",function(a,b){b.preventElasticBounce(),eventjs.stop(a)}))},a.wheel=function(a){var b,c=a.timeout||150,d=0,e={gesture:"wheel",state:"start",wheelDelta:0,target:a.target,listener:a.listener,preventElasticBounce:function(a){var b=this.target,c=b.scrollTop,d=c+b.offsetHeight,e=b.scrollHeight;d===e&&this.wheelDelta<=0?eventjs.cancel(a):0===c&&this.wheelDelta>=0&&eventjs.cancel(a),eventjs.stop(a)},add:function(){a.target[g](i,f,!1)},remove:function(){a.target[h](i,f,!1)}},f=function(f){f=f||window.event,e.state=d++?"change":"start",e.wheelDelta=f.detail?-20*f.detail:f.wheelDelta,a.listener(f,e),clearTimeout(b),b=setTimeout(function(){d=0,e.state="end",e.wheelDelta=0,a.listener(f,e)},c)},g=document.addEventListener?"addEventListener":"attachEvent",h=document.removeEventListener?"removeEventListener":"detachEvent",i=eventjs.getEventSupport("mousewheel")?"mousewheel":"DOMMouseScroll";return a.target[g](i,f,!1),e},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.wheel=a.wheel,a}(eventjs.proxy);